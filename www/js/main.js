$(document).ready(function(){var e,a,s,t;$(".navbar-collapse a").on("click",function(){$(".navbar-collapse").hasClass("in")&&$(".navbar-toggle").click()});function i(e,a){var s=function(){var e;try{e=new XMLHttpRequest}catch(a){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){e=!1}}}return e}();$xdivget=$("#"+a);s.onreadystatechange=function(){1==s.readyState?$xdivget.html("<img src='images/loader.gif'>"):4==s.readyState&&$xdivget.html(s.responseText)},s.open("GET",e,!0),s.send(null)}function r(){$(".dsc").delegate("a","click",async function(e){console.log(e),e.preventDefault(),href=$(this).attr("href"),hid=$(this).attr("id"),htitle=$(this).attr("title"),hrel=$(this).attr("rel");var a=hrel.split("-"),i=a[0],r=a[1],o=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${r}%2F${s[i].image}?alt=media`,c=s[i].year,n=s[i].title,d=(n.replace(`${c}. `,""),s[i].info),p='<div class="row">';p+=`<div class="col-md-6"><div class="cap"><img src="${o}" alt="${n}"></div></div>`,p+=`<div class="col-md-6"><div id="jp_container"><h2>${c}</h2><h3>${d=d.replaceAll("\n","<br>")}</h3>`,p+="<p>";var m="",u=firebase.firestore();if(data=await u.collection("discs").doc(r).collection("sounds").orderBy("track").get(),t=[],data.size>0){var g,h,f,v,b;response=data.docs;var y="track track-default";p+="Músicas:<br>";for(var w=0;w<data.size;w++)if(res=response[w].data(),t.push(res),g=("00"+res.track).slice(-2),h=res.title,f=res.audio,v=res.lyric.replaceAll("\n","<br>"),b=res.cipher,""!=f?(f.includes("https://")||f.includes("https://")||(f=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${f}%2F$uri?alt=media`),p+=`<a href="${f}" title="Reproduzir" class="${y}"><img src="images/player/play.png" alt="Reproduzir"></a>`,y="track"):p+='<img src="images/player/play-off.png" alt="Audio indisponível">',""!=v&&"Letra não disponível"!=v&&"Letra não disponível<br>"!=v?(p+=`<a href="#msc${g}" title="Letra"><img src="images/player/letra.png" alt="Letra"></a>`,m+=`<div id="msc${g}" class="modalDialog2"><div><a class="close" title="Fechar" href="#close">X</a><div class="divtxt"><h4>${n}</h4><p>${v}</p></div></div></div>`):p+='<img src="images/player/letra-off.png" alt="Letra indisponível"></img>',p+=""!=b?`<a href="${b}" title="Cifra" target="_blank"><img src="images/player/cifra.png" alt="Cifra"></a>`:'<img src="images/player/cifra-off.png" alt="Cifra indisponível">',p+=`${g}. ${h}<br>`,w+1>=data.size){p+="</p></div>",$("#discoinfo").html(p),$("#soundinfo").html(m),l();var z=$("#discoinfo").position().top-100;$("body,html").animate({scrollTop:z},700)}}else{p+="Nenhuma música cadastrada.",p+="</p></div></div></div>",$("#discoinfo").html(p),$("#soundinfo").html(m);z=$("#discoinfo").position().top-100;$("body,html").animate({scrollTop:z},700)}})}function l(){var e=$("#jquery_jplayer"),a=$("#jquery_jplayer_1"),s=($("#jp_container .track-name"),$("#jp_container .play-state")),t=($("#jp_container .extra-play-info"),!0);$.jPlayer.timeFormat.padMin=!1,$.jPlayer.timeFormat.padSec=!1,$.jPlayer.timeFormat.sepMin="",$.jPlayer.timeFormat.sepSec="",s.text("");var i="",r="";e.jPlayer({ready:function(){$("#jp_container .track-default").click()},ended:function(){a.jPlayer("play")},swfPath:"/js",cssSelectorAncestor:"#jp_container",supplied:"mp3",wmode:"window"}),$("#jp_container .track").click(function(s){return e.jPlayer("setMedia",{mp3:$(this).attr("href")}),t||(""!=r&&r.html('<img src="images/player/play.png">'),i!=$(this).attr("href")?(e.jPlayer("play"),$(this).html('<img src="images/player/pause.png">'),i=$(this).attr("href"),r=$(this),a.jPlayer("pause")):(e.jPlayer("stop"),$(this).html('<img src="images/player/play.png">'),i="",r="",a.jPlayer("play"))),t=!1,$(this).blur(),!1})}firebase.initializeApp({apiKey:"AIzaSyB3RoRyyHmYtqp2CqhohJN9zIWkhYPJaMM",authDomain:"joao-luiz-correa.firebaseapp.com",databaseURL:"https://joao-luiz-correa-default-rtdb.firebaseio.com",projectId:"joao-luiz-correa",storageBucket:"joao-luiz-correa.appspot.com",messagingSenderId:"980869849229",appId:"1:980869849229:web:59d8c8be93bb344d50c2c4"}),firebase.analytics(),$(".bgf").delegate("a","click",function(e){e.preventDefault(),href=$(this).attr("href"),hid=$(this).attr("id"),htitle=$(this).attr("title"),hrel=$(this).attr("rel"),i("/view/artista.php?id="+hrel,"biografiainfo");var a=$("#biografiainfo").position().top-100;$("body,html").animate({scrollTop:a},700)}),biografia_scroller=$(".biografia_text").mCustomScrollbar({axis:"y"}),$(".controllers").click(function(e){$(this).hasClass("controller_up")?biografia_scroller.mCustomScrollbar("scrollTo","top"):$(this).hasClass("controller_down")&&biografia_scroller.mCustomScrollbar("scrollTo","bottom")}),central_scroller=$(".central_text").mCustomScrollbar({axis:"y"}),$(".controllers2").click(function(e){$(this).hasClass("controller2_up")?central_scroller.mCustomScrollbar("scrollTo","top"):$(this).hasClass("controller2_down")&&central_scroller.mCustomScrollbar("scrollTo","bottom")});var o=$("#owl-div2");$(".next").click(function(){o.trigger("owl2.next")}),$(".prev").click(function(){o.trigger("owl2.prev")}),$(".play").click(function(){o.trigger("owl2.play",1e3)}),$(".stop").click(function(){o.trigger("owl2.stop")});var c=$("#owl-div");function n(e){"connected"===e.status?conectFB():($("#fbsts").html("<h3>Faça seu Cadastro e tenha Acesso à Área Exclusiva para Fãs,<br>Participe de Promoções, Receba Novidades e muito mais.</h3>"),$("#fbdwn").html("<p>Acesse nossa Central para visualizar o conteúdo completo.<br><br>- Downloads<br>- Envio de Recados<br>- Novidades<br>- Promoções ...</p>"),$("#fbini").css("display","block"),$("#fbrec").css("display","block"),$("#fbcls").css("display","block"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block"))}$(".next").click(function(){c.trigger("owl.next")}),$(".prev").click(function(){c.trigger("owl.prev")}),$(".play").click(function(){c.trigger("owl.play",1e3)}),$(".stop").click(function(){c.trigger("owl.stop")}),$('form[name="sendImp"]').find("input").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,a,s){},submitSuccess:function(e,a){a.preventDefault();var s=$("input#senha").val();$.ajax({url:"/view/imp-auth.php",type:"POST",data:{senha:s},cache:!1,success:function(e,a){"1"==(e=$.trim(e))?($("#success-i").html("<div class='alert alert-success'>"),$("#success-i > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-success").append("<strong>Acesso autorizado. </strong>"),$("#success-i > .alert-success").append("</div>"),$("#imprensaForm").trigger("reset"),i("/view/imp-data.php","imprensa-restrict")):($("#success-i").html("<div class='alert alert-danger'>"),$("#success-i > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-danger").append("<strong>Acesso negado, dados inválidos...</strong>"),$("#success-i > .alert-danger").append("</div>"))},error:function(){$("#success-i").html("<div class='alert alert-danger'>"),$("#success-i > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-danger").append("<strong>Erro ao conectar, tente novamente...</strong>"),$("#success-i > .alert-danger").append("</div>"),$("#imprensaForm").trigger("reset")}})},filter:function(){return $(this).is(":visible")}}),$("#senha").focus(function(){$("#success-i").html("")}),$("#fbrec").delegate("a","click",function(e){e.preventDefault(),$("#fbrec").css("display","none"),$("#fbcls").css("display","block"),$("#mural-form").css("display","block"),$("#central-mural").css("display","none")}),$("#fbcls").delegate("a","click",function(e){e.preventDefault(),$("#fbrec").css("display","block"),$("#fbcls").css("display","none"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block")}),$('form[name="sentRecado"]').find("input,textarea").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,a,s){},submitSuccess:function(e,a){a.preventDefault();var s=$("input#name").val(),t=$("input#email").val(),r=$("input#ciduf").val(),l=$("textarea#messagem").val(),o=s;o.indexOf(" ")>=0&&(o=s.split(" ").slice(0,-1).join(" ")),$.ajax({url:"/view/sendrec.php",type:"POST",data:{name:s,email:t,ciduf:r,message:l},cache:!1,success:function(e,a){"1"==(e=$.trim(e))?($("#success-m").html("<div class='alert alert-success'>"),$("#success-m > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-success").append("<strong>Acesso autorizado. </strong>"),$("#success-m > .alert-success").append("</div>"),$("#centralForm").trigger("reset"),$("#fbrec").css("display","block"),$("#fbcls").css("display","none"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block"),i("/view/mural.php","central-mural")):($("#success-m").html("<div class='alert alert-danger'>"),$("#success-m > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-danger").append("<strong>Erro ao enviar a recado, tente novamente...</strong>"),$("#success-m > .alert-danger").append("</div>"))},error:function(){$("#success-m").html("<div class='alert alert-danger'>"),$("#success-m > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-danger").append("<strong>Erro ao enviar a recado, tente novamente...</strong>"),$("#success-m > .alert-danger").append("</div>"),$("#centralForm").trigger("reset")}})},filter:function(){return $(this).is(":visible")}}),$("#messagem").focus(function(){$("#successm").html("")}),$('form[name="sentMessage"]').find("input,textarea").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,a,s){},submitSuccess:function(e,a){a.preventDefault();var s=$("input#name").val(),t=$("input#phone").val(),i=$("input#email").val(),r=$("textarea#message").val(),l=s;l.indexOf(" ")>=0&&(l=s.split(" ").slice(0,-1).join(" ")),$.ajax({url:"https://us-central1-joao-luiz-correa.cloudfunctions.net/enviarEmail",type:"POST",data:{name:s,phone:t,email:i,message:r},cache:!1,success:function(){$("#success").html("<div class='alert alert-success'>"),$("#success > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-success").append("<strong>Sua mensagem foi enviada. </strong>"),$("#success > .alert-success").append("</div>"),$("#contatoForm").trigger("reset")},error:function(){$("#success").html("<div class='alert alert-danger'>"),$("#success > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-danger").append("<strong>Erro ao enviar a mensagem, tente novamente...</strong>"),$("#success > .alert-danger").append("</div>"),$("#contatoForm").trigger("reset")}})},filter:function(){return $(this).is(":visible")}}),$('a[data-toggle="tab"]').click(function(e){e.preventDefault(),$(this).tab("show")}),$("#name").focus(function(){$("#success").html("")}),window.checkLoginState=function(){FB.getLoginStatus(function(e){n(e)})},window.fbAsyncInit=function(){FB.init({appId:"223287822148917",cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(e){n(e)})},async function t(i){var l,n,d,p,m,u="João Luiz Corrêa e Grupo Campeirismo",g=encodeURI(u),h=encodeURIComponent(u),f="https://joaoluizcorrea.com.br/",v=encodeURI(f),b=encodeURIComponent(f),y="";if(0==i){var w=firebase.firestore();(l=await w.collection("settings").get()).size>0?(n=l.docs,a=n[0].data(),t(1)):t(1)}else if(1==i)if(w=firebase.firestore(),(l=await w.collection("banners").orderBy("date","desc").get()).size>0){n=l.docs;for(var z=0;z<l.size;z++)d=n[z].data(),p=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/banners%2F${d.filename}?alt=media`,y+=`<div class="pogoSlider-slide" data-transition="fade" data-duration="6000" style="background-image:url(${p});"></div>`,z+1>=l.size&&($("#js-main-slider").html(y),$("#js-main-slider").pogoSlider({autoplay:!0,autoplayTimeout:4e3,displayProgess:!0,preserveTargetSize:!0,targetWidth:1600,targetHeight:900,responsive:!0}).data("plugin_pogoSlider"),t(2))}else t(2);else if(2==i)w=firebase.firestore(),(l=await w.collection("biography").get()).size>0?(d=(n=l.docs)[0].data(),y=(y=d.description).replace("\r","").replace("\n","<br><br>"),$("#biography").html(y),t(3)):t(3);else if(3==i){var j=await firebase.storage().ref("artists");await j.listAll().then(function(e){if(e.items.length>0)for(var a=0;a<e.items.length;a++)m=(m=e.items[a].fullPath).replace("/","%2F"),p=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/${m}?alt=media`,y+='<div class="col-lg-2 col-md-2 col-sm-4 wthree2" data-aos="zoom-in"><div class="w3-agileits">',y+='<div class="bgf">',y+=`<img src="${p}" alt="${m}">`,y+="</div></div></div>",a+1>=e.items.length&&($("#artists").html(y),t(4));else t(4)}).catch(function(e){console.log(e),t(4)})}else if(4==i){var k,S,x;if(w=firebase.firestore(),l=await w.collection("discs").orderBy("id").get(),s=[],l.size>0)for(n=l.docs,z=0;z<l.size;z++)d=n[z].data(),s.push(d),k=("000000"+d.id).slice(-5),S=d.title.replace(`${d.year}. `,""),x=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${k}%2F${d.image}?alt=media`,y+='<div class="item wthree1" data-aos="zoom-in"><div class="w3-agileits">',y+=`<div class="dsc"><a title="MAIS" rel="${z}-${k}">`,y+=`<img class="img-responsive" src="${x}" alt="${d.title}"></a>`,y+=`<h2>${d.year}</h2>`,y+=`<h3>${S}</h3>`,y+="</div></div></div>",z+1>=l.size&&(o.html(y),o.owlCarousel(),r(),t(5));else t(5)}else if(5==i)if(w=firebase.firestore(),l=await w.collection("schedule").orderBy("id","desc").get(),e=[],l.size>0)for(n=l.docs,z=0;z<l.size;z++){d=n[z].data(),e.push(d);var C=d.title,_=d.place,P=new Date(d.dateini.toDate()),F=new Date(d.dateend.toDate()),T=("00"+P.getDate()).slice(-2),D=("00"+(P.getMonth()+1)).slice(-2),A=("00"+P.getHours()).slice(-2),M=("00"+P.getMinutes()).slice(-2),I=("00"+F.getHours()).slice(-2),R=("00"+F.getMinutes()).slice(-2);y+='<div class="item wthree1" data-aos="zoom-in"><div class="w3-agileits">',y+=`<div class="agdt"><span class="dia">${T}</span><span class="mes">/${D}</span></div>`,y+=`<div class="agtm"><span class="hora">${A}:${M}hs - ${I}:${R}hs</span></div>`,y+=`<div class="aglc"><h3>${_}</h3><h2>${C}</h2></div>`,y+='<div class="rodape">',y+=`<div class="infosh"><div class="agl"><a title="Informações sobre o Evento" rel="${z}"><img src="images/social/maisinfo.png"></a></div></div>`,y+=`<div class="socialsh">Compartilhar:<br/><a href="http://www.facebook.com/sharer.php?u=${v}&t=${g}" title="Compartilhar no Facebook" target="_new"><img src="images/social/fb-ico.png"></a>`,y+=`<a href="http://twitter.com/share?text=${h}&url=${b}" title="Compartilhar no Twitter" target="_new"><img src="images/social/tw-ico.png"></a>`,y+=`<a href="https://plus.google.com/share?url=${b}" title="Compartilhar no Google" target="_new"><img src="images/social/gg-ico.png"></a></div>`,y+="</div></div></div>",z+1>=l.size&&(c.html(y),c.owlCarousel(),$(".agl").delegate("a","click",function(a){a.preventDefault();var s=$(this).attr("rel"),t=e[s],i=t.title,r=t.description,l=t.place,o=new Date(t.dateini.toDate()),c=new Date(t.dateend.toDate()),n='<div class="row">';n+='<div class="col-md-6"><div class="cap"><img src="images/agenda-info.png" alt="Agenda"></div></div>',n+='<div class="col-md-6"><div id="jp_container">',n+=`<h2>${i}</h2>`,n+=`<p>${l}<br>`,n+=`No dia ${("00"+o.getDate()).slice(-2)}/${("00"+(o.getMonth()+1)).slice(-2)}/${o.getFullYear()}<br>`,n+=`das ${("00"+o.getHours()).slice(-2)}:${("00"+o.getMinutes()).slice(-2)}hs às ${("00"+c.getHours()).slice(-2)}:${("00"+c.getMinutes()).slice(-2)}hs</p>`,null!=r&&(n+=`<p>${r}</p>`),n+="</div></div>",n+="</div>",$("#agendainfo").html(n);var d=$("#agendainfo").position().top-100;$("body,html").animate({scrollTop:d},700)}),t(6))}else t(6);else if(6==i){var B,E,L,q,H,N;if(w=firebase.firestore(),(l=await w.collection("photos").orderBy("date","desc").get()).size>0)for(n=l.docs,j=firebase.storage(),z=0;z<l.size;z++)d=n[z].data(),B=d.description,E=`${B}<br>${d.place}<br>${d.date}`,y+='<div class="galeria col-xs-6 col-sm-4 col-md-3">',y+=`<ul id="galview${z+1}" class="list-unstyled row">`,L="",q=j.ref().child(`photos/${d.id}`),H=await q.listAll(),await H.items.forEach(e=>{N="https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/"+(N=e.fullPath).replaceAll("/","%2F")+"?alt=media",y+=`<li class="${L}" data-responsive="${N} 375, ${N} 480, ${N} 800" data-src="${N}" data-sub-html="${B}"><a href="">`,y+=`<img class="img-responsive" src="${N}">`,y+='<div class="gallery-poster"><img src="images/zoom.png"></div>',y+=`<div class="gallery-label">${E}</div></a></li>`,L="hide"}),y+="</ul></div>",z+1>=l.size&&($("#photo_view").html(y),setTimeout(function(){for(var e=0;e<l.size;e++)$(`#galview${e+1}`).lightGallery({thumbnail:!0,hash:!1})},2e3),t(7));else t(7)}else if(7==i)if(0==a.videostype){if(w=firebase.firestore(),(l=await w.collection("videos").orderBy("date","desc").get()).size>0)for(n=l.docs,y+='<ul id="vidview" class="list-unstyled row">',z=0;z<l.size;z++)d=n[z].data(),y+=`<li class="col-xs-6 col-sm-4 col-md-3" data-src="https://www.youtube.com/watch?v=${d.watch}&autoplay=true" data-sub-html="${d.title}"><a href="">`,y+=`<img class="img-responsive" src="${d.image}">`,y+='<div class="gallery-poster"><img src="images/play.png"></div>',y+=`<div class="gallery-label">${d.title}</div>`,y+="</a></li>",z+1>=l.size&&(y+="</ul>",$("#vid_view").html(y),setTimeout(function(){$("#vidview").lightGallery({download:!0,zoom:!1,autoplayControls:!1,hash:!1,youtubePlayerParams:{modestbranding:1,showinfo:0,rel:0,controls:0}})},2e3))}else{var O=new XMLHttpRequest;O.open("GET","https://www.googleapis.com/youtube/v3/search?key=AIzaSyB3RoRyyHmYtqp2CqhohJN9zIWkhYPJaMM&channelId=UCbDaA750q0NCXdaQlptSa9A&part=snippet,id&type=video&videoSyndicated=true&order=date&maxResults=16"),O.send(),O.onloadend=(e=>{var a=O.responseText,s=JSON.parse(a);if(s.items){y+='<ul id="vidview" class="list-unstyled row">';for(var t=0;t<s.items.length;t++)y+=`<li class="col-xs-6 col-sm-4 col-md-3" data-src="https://www.youtube.com/watch?v=${s.items[t].id.videoId}&autoplay=true" data-sub-html="${s.items[t].snippet.title}"><a href="">`,y+=`<img class="img-responsive" src="${s.items[t].snippet.thumbnails.high.url}">`,y+='<div class="gallery-poster"><img src="images/play.png"></div>',y+=`<div class="gallery-label">${s.items[t].snippet.title}<br>${s.items[t].snippet.description}</div>`,y+="</a></li>",t+1>=s.items.length&&(y+="</ul>",$("#vid_view").html(y),setTimeout(function(){$("#vidview").lightGallery({download:!1,zoom:!1,autoplayControls:!1,hash:!1,youtubePlayerParams:{modestbranding:1,showinfo:0,rel:0,controls:1}})},2e3))}})}}(0)});