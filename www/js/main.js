$(document).ready(function(){var e,t,a,s;$(".navbar-collapse a").on("click",function(){$(".navbar-collapse").hasClass("in")&&$(".navbar-toggle").click()});firebase.initializeApp({apiKey:"AIzaSyB3RoRyyHmYtqp2CqhohJN9zIWkhYPJaMM",authDomain:"joao-luiz-correa.firebaseapp.com",databaseURL:"https://joao-luiz-correa-default-rtdb.firebaseio.com",projectId:"joao-luiz-correa",storageBucket:"joao-luiz-correa.appspot.com",messagingSenderId:"980869849229",appId:"1:980869849229:web:59d8c8be93bb344d50c2c4"}),firebase.analytics();var i=firebase.firestore(),o=firebase.storage();function r(e,t){var a=function(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}}return e}();$xdivget=$("#"+t);a.onreadystatechange=function(){1==a.readyState?$xdivget.html("<img src='images/loader.gif'>"):4==a.readyState&&$xdivget.html(a.responseText)},a.open("GET",e,!0),a.send(null)}function l(){$(".dsc").delegate("a","click",async function(e){console.log(e),e.preventDefault(),href=$(this).attr("href"),hid=$(this).attr("id"),htitle=$(this).attr("title"),hrel=$(this).attr("rel");var t=hrel.split("-"),o=t[0],r=t[1],l=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${r}%2F${a[o].image}?alt=media`,n=a[o].year,h=a[o].title,v=(h.replace(`${n}. `,""),a[o].info),f='<div class="row">';f+=`<div class="col-md-6"><div class="cap"><img src="${l}" alt="${h}"></div></div>`,f+=`<div class="col-md-6"><div id="jp_container"><h2>${n}</h2><h3>${v=v.replaceAll("\n","<br>")}</h3>`,f+="<p>";var b="";if(data=await i.collection("discs").doc(r).collection("sounds").orderBy("track").get(),s=[],data.size>0){var y,w,z,j,k;response=data.docs;var _="track track-default";f+="Músicas:<br>";for(var S=0;S<data.size;S++)if(res=response[S].data(),s.push(res),y=("00"+res.track).slice(-2),w=res.title,z=res.audio,j=res.lyric.replaceAll("\n","<br>"),k=res.cipher,""!=z?(z.includes("https://")||z.includes("https://")||(z=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${z}%2F$uri?alt=media`),f+=`<a href="${z}" title="Reproduzir" class="${_}"><img src="images/player/play.png" alt="Reproduzir"></a>`,_="track"):f+='<img src="images/player/play-off.png" alt="Audio indisponível">',""!=j&&"Letra não disponível"!=j&&"Letra não disponível<br>"!=j?(f+=`<a href="#msc${y}" title="Letra"><img src="images/player/letra.png" alt="Letra"></a>`,b+=`<div id="msc${y}" class="modalDialog2"><div><a class="close" title="Fechar" href="#close">X</a><div class="divtxt"><h4>${h}</h4><p>${j}</p></div></div></div>`):f+='<img src="images/player/letra-off.png" alt="Letra indisponível"></img>',f+=""!=k?`<a href="${k}" title="Cifra" target="_blank"><img src="images/player/cifra.png" alt="Cifra"></a>`:'<img src="images/player/cifra-off.png" alt="Cifra indisponível">',f+=`${y}. ${w}<br>`,S+1>=data.size){f+="</p></div>",$("#discoinfo").html(f),$("#soundinfo").html(b),$("#jp_container .track").click(function(e){return c.jPlayer("setMedia",{mp3:$(this).attr("href")}),(d&&u||p&&!u)&&(""!=g&&g.html('<img src="images/player/play.png">'),m!=$(this).attr("href")?(c.jPlayer("play"),$(this).html('<img src="images/player/pause.png">'),m=$(this).attr("href"),g=$(this)):(c.jPlayer("stop"),$(this).html('<img src="images/player/play.png">'),m="",g="")),u=!1,$(this).blur(),!1});var C=$("#discoinfo").position().top-100;$("body,html").animate({scrollTop:C},700)}}else{f+="Nenhuma música cadastrada.",f+="</p></div></div></div>",$("#discoinfo").html(f),$("#soundinfo").html(b);C=$("#discoinfo").position().top-100;$("body,html").animate({scrollTop:C},700)}})}var c=$("#jquery_jplayer"),n=($("#jp_container .track-name"),$("#jp_container .play-state")),d=($("#jp_container .extra-play-info"),!1),p=!0,u=!0;$.jPlayer.timeFormat.padMin=!1,$.jPlayer.timeFormat.padSec=!1,$.jPlayer.timeFormat.sepMin="",$.jPlayer.timeFormat.sepSec="",n.text("");var m="",g="";c.jPlayer({ready:function(){$("#jp_container .track-default").click()},ended:function(){},swfPath:"/js",cssSelectorAncestor:"#jp_container",supplied:"mp3",wmode:"window"}),c.jPlayer("setMedia",{mp3:m}),$(".bgf").delegate("a","click",function(e){e.preventDefault(),href=$(this).attr("href"),hid=$(this).attr("id"),htitle=$(this).attr("title"),hrel=$(this).attr("rel"),r("/view/artista.php?id="+hrel,"biografiainfo");var t=$("#biografiainfo").position().top-100;$("body,html").animate({scrollTop:t},700)}),biografia_scroller=$(".biografia_text").mCustomScrollbar({axis:"y"}),$(".controllers").click(function(e){$(this).hasClass("controller_up")?biografia_scroller.mCustomScrollbar("scrollTo","top"):$(this).hasClass("controller_down")&&biografia_scroller.mCustomScrollbar("scrollTo","bottom")}),central_scroller=$(".central_text").mCustomScrollbar({axis:"y"}),$(".controllers2").click(function(e){$(this).hasClass("controller2_up")?central_scroller.mCustomScrollbar("scrollTo","top"):$(this).hasClass("controller2_down")&&central_scroller.mCustomScrollbar("scrollTo","bottom")});var h=$("#owl-div2");$(".next").click(function(){h.trigger("owl2.next")}),$(".prev").click(function(){h.trigger("owl2.prev")}),$(".play").click(function(){h.trigger("owl2.play",1e3)}),$(".stop").click(function(){h.trigger("owl2.stop")});var v=$("#owl-div");function f(e){"connected"===e.status?conectFB():($("#fbsts").html("<h3>Faça seu Cadastro e tenha Acesso à Área Exclusiva para Fãs,<br>Participe de Promoções, Receba Novidades e muito mais.</h3>"),$("#fbdwn").html("<p>Acesse nossa Central para visualizar o conteúdo completo.<br><br>- Downloads<br>- Envio de Recados<br>- Novidades<br>- Promoções ...</p>"),$("#fbini").css("display","block"),$("#fbrec").css("display","block"),$("#fbcls").css("display","block"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block"))}$(".next").click(function(){v.trigger("owl.next")}),$(".prev").click(function(){v.trigger("owl.prev")}),$(".play").click(function(){v.trigger("owl.play",1e3)}),$(".stop").click(function(){v.trigger("owl.stop")}),$('form[name="sendImp"]').find("input").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,t,a){},submitSuccess:function(e){e.preventDefault();var t=$("input#senha").val();$.ajax({url:"/view/imp-auth.php",type:"POST",data:{senha:t},cache:!1,success:function(e,t){"1"==(e=$.trim(e))?($("#success-i").html("<div class='alert alert-success'>"),$("#success-i > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-success").append("<strong>Acesso autorizado. </strong>"),$("#success-i > .alert-success").append("</div>"),$("#imprensaForm").trigger("reset"),r("/view/imp-data.php","imprensa-restrict")):($("#success-i").html("<div class='alert alert-danger'>"),$("#success-i > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-danger").append("<strong>Acesso negado, dados inválidos...</strong>"),$("#success-i > .alert-danger").append("</div>"))},error:function(){$("#success-i").html("<div class='alert alert-danger'>"),$("#success-i > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-danger").append("<strong>Erro ao conectar, tente novamente...</strong>"),$("#success-i > .alert-danger").append("</div>"),$("#imprensaForm").trigger("reset")}})},filter:function(){return $(this).is(":visible")}}),$("#senha").focus(function(){$("#success-i").html("")}),$("#fbrec").delegate("a","click",function(e){e.preventDefault(),$("#fbrec").css("display","none"),$("#fbcls").css("display","block"),$("#mural-form").css("display","block"),$("#central-mural").css("display","none")}),$("#fbcls").delegate("a","click",function(e){e.preventDefault(),$("#fbrec").css("display","block"),$("#fbcls").css("display","none"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block")}),$('form[name="sentRecado"]').find("input,textarea").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,t,a){},submitSuccess:function(e){e.preventDefault();var t=$("input#name").val(),a=$("input#email").val(),s=$("input#phone").val(),i=$("input#cityuf").val(),o=$("textarea#messagem").val();$.ajax({url:"https://us-central1-joao-luiz-correa.cloudfunctions.net/sendMail",type:"POST",dataType:"json",data:{to_name:t,to_email:a,to_phone:s,city_uf:i,content:o},cache:!1,success:function(e,t){e=$.trim(e),console.log(e),e?($("#success-m").html("<div class='alert alert-success'>"),$("#success-m > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-success").append("<strong>Acesso autorizado. </strong>"),$("#success-m > .alert-success").append("</div>"),$("#centralForm").trigger("reset"),$("#fbrec").css("display","block"),$("#fbcls").css("display","none"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block"),r("/view/mural.php","central-mural")):($("#success-m").html("<div class='alert alert-danger'>"),$("#success-m > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-danger").append("<strong>Erro ao enviar a recado, tente novamente...</strong>"),$("#success-m > .alert-danger").append("</div>"))},error:function(){$("#success-m").html("<div class='alert alert-danger'>"),$("#success-m > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-danger").append("<strong>Erro ao enviar a recado, tente novamente...</strong>"),$("#success-m > .alert-danger").append("</div>"),$("#centralForm").trigger("reset")}})},filter:function(){return $(this).is(":visible")}}),$("#messagem").focus(function(){$("#successm").html("")}),$('form[name="sentMessage"]').find("input,textarea").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,t,a){},submitSuccess:function(e,t){t.preventDefault(),$("#btsend").html('<div class="c-loader"></div> Aguarde...'),$("#btsend").css("pointer-events","none");var a=$("#name").val(),s=$("#email").val(),i=$("#phone").val(),o=$("#cityuf").val(),r=$("#message").val();$.ajax({url:"https://us-central1-joao-luiz-correa.cloudfunctions.net/sendMail",type:"POST",data:{to_name:a,to_email:s,to_phone:i,city_uf:o,content:r},cache:!1,success:function(e){$("#success").html("<div class='alert alert-success'>"),$("#success > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-success").append("<strong>Sua mensagem foi enviada. </strong>"),$("#success > .alert-success").append("</div>"),$("#contatoForm").trigger("reset"),$("#btsend").html("Enviar"),$("#btsend").css("pointer-events","auto")},error:function(e){console.log(e),$("#success").html("<div class='alert alert-danger'>"),$("#success > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-danger").append("<strong>Erro ao enviar a mensagem, tente novamente...</strong>"),$("#success > .alert-danger").append("</div>"),$("#contatoForm").trigger("reset"),$("#btsend").html("Enviar"),$("#btsend").css("pointer-events","auto")}})},filter:function(){return $(this).is(":visible")}}),$('a[data-toggle="tab"]').click(function(e){e.preventDefault(),$(this).tab("show")}),$("#name").focus(function(){$("#success").html("")}),window.checkLoginState=function(){FB.getLoginStatus(function(e){f(e)})},window.fbAsyncInit=function(){FB.init({appId:"223287822148917",cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(e){f(e)})},async function s(r){var c,n,d,p,u,m="João Luiz Corrêa e Grupo Campeirismo",g=encodeURI(m),f=encodeURIComponent(m),b="https://joaoluizcorrea.com.br/",y=encodeURI(b),w=encodeURIComponent(b),z="";if(0==r)s(10),$.ajax({url:"https://us-central1-joao-luiz-correa.cloudfunctions.net/counterView",type:"GET",cache:!1,success:function(e){$("#count-view").html(e.count.toLocaleString("de-DE",{minimumFractionDigits:0})),$("#count-online").html(e.online)},error:function(e){console.log(e)}});else if(10==r)c=await i.collection("settings").doc("data").get(),t=c.data(),s(1);else if(1==r)if((c=await i.collection("banners").orderBy("date","desc").get()).size>0){n=c.docs;for(var j=0;j<c.size;j++)d=n[j].data(),p=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/banners%2F${d.filename}?alt=media`,z+=`<div class="pogoSlider-slide" data-transition="fade" data-duration="6000" style="background-image:url(${p});"></div>`,j+1>=c.size&&($("#js-main-slider").html(z),$("#js-main-slider").pogoSlider({autoplay:!0,autoplayTimeout:4e3,displayProgess:!0,preserveTargetSize:!0,targetWidth:1600,targetHeight:900,responsive:!0}).data("plugin_pogoSlider"),s(2))}else s(2);else if(2==r)(c=await i.collection("biography").get()).size>0?(d=(n=c.docs)[0].data(),z=(z=d.description).replace("\r","").replace("\n","<br><br>"),$("#biography").html(z),s(3)):s(3);else if(3==r){var k=await o.ref("artists");await k.listAll().then(function(e){if(e.items.length>0)for(var t=0;t<e.items.length;t++)u=(u=e.items[t].fullPath).replace("/","%2F"),p=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/${u}?alt=media`,z+='<div class="col-lg-2 col-md-2 col-sm-4 wthree2" data-aos="zoom-in"><div class="w3-agileits">',z+='<div class="bgf">',z+=`<img src="${p}" alt="${u}">`,z+="</div></div></div>",t+1>=e.items.length&&($("#artists").html(z),s(4));else s(4)}).catch(function(e){console.log(e),s(4)})}else if(4==r)if(c=await i.collection("discs").orderBy("id").get(),a=[],c.size>0){var _,S,C;for(n=c.docs,j=0;j<c.size;j++)d=n[j].data(),a.push(d),_=("000000"+d.id).slice(-5),S=d.title.replace(`${d.year}. `,""),C=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${_}%2F${d.image}?alt=media`,z+='<div class="item wthree1" data-aos="zoom-in"><div class="w3-agileits">',z+=`<div class="dsc"><a title="MAIS" rel="${j}-${_}">`,z+=`<img class="img-responsive" src="${C}" alt="${d.title}"></a>`,z+=`<h2>${d.year}</h2>`,z+=`<h3>${S}</h3>`,z+="</div></div></div>",j+1>=c.size&&(h.html(z),h.owlCarousel(),s(5),setTimeout(function(){l(),h.trigger("owl.jumpTo",c.size-1)},2e3))}else s(5);else if(5==r){var x=new Date,F=`${("0000"+x.getFullYear()).slice(-4)}${("00"+(x.getMonth()+1)).slice(-2)}${("00"+x.getDate()).slice(-2)}${("00"+x.getHours()).slice(-2)}${("00"+x.getMinutes()).slice(-2)}00`;if(c=await i.collection("schedule").where("id",">=",F).orderBy("id").get(),e=[],c.size>0)for(n=c.docs,j=0;j<c.size;j++){d=n[j].data(),e.push(d);var T=d.title,D=d.place,M=new Date(d.dateini.toDate()),P=new Date(d.dateend.toDate()),A=("00"+M.getDate()).slice(-2),I=("00"+(M.getMonth()+1)).slice(-2),E=("00"+M.getHours()).slice(-2),R=("00"+M.getMinutes()).slice(-2),B=("00"+P.getHours()).slice(-2),L=("00"+P.getMinutes()).slice(-2);z+='<div class="item wthree1" data-aos="zoom-in"><div class="w3-agileits">',z+=`<div class="agdt"><span class="dia">${A}</span><span class="mes">/${I}</span></div>`,z+=`<div class="agtm"><span class="hora">${E}:${R}hs - ${B}:${L}hs</span></div>`,z+=`<div class="aglc"><h3>${D}</h3><h2>${T}</h2></div>`,z+='<div class="rodape">',z+=`<div class="infosh"><div class="agl"><a title="Informações sobre o Evento" rel="${j}"><img src="images/social/maisinfo.png"></a></div></div>`,z+=`<div class="socialsh">Compartilhar:<br/><a href="http://www.facebook.com/sharer.php?u=${y}&t=${g}" title="Compartilhar no Facebook" target="_new"><img src="images/social/fb-ico.png"></a>`,z+=`<a href="http://twitter.com/share?text=${f}&url=${w}" title="Compartilhar no Twitter" target="_new"><img src="images/social/tw-ico.png"></a>`,z+=`<a href="https://plus.google.com/share?url=${w}" title="Compartilhar no Google" target="_new"><img src="images/social/gg-ico.png"></a></div>`,z+="</div></div></div>",j+1>=c.size&&(v.html(z),v.owlCarousel(),s(6),setTimeout(function(){$(".agl").delegate("a","click",function(t){t.preventDefault();var a=$(this).attr("rel"),s=e[a],i=s.title,o=s.description,r=s.place,l=new Date(s.dateini.toDate()),c=new Date(s.dateend.toDate()),n='<div class="row">';n+='<div class="col-md-6"><div class="cap"><img src="images/agenda-info.png" alt="Agenda"></div></div>',n+='<div class="col-md-6"><div id="jp_container">',n+=`<h2>${i}</h2>`,n+=`<p>${r}<br>`,n+=`No dia ${("00"+l.getDate()).slice(-2)}/${("00"+(l.getMonth()+1)).slice(-2)}/${l.getFullYear()}<br>`,n+=`das ${("00"+l.getHours()).slice(-2)}:${("00"+l.getMinutes()).slice(-2)}hs às ${("00"+c.getHours()).slice(-2)}:${("00"+c.getMinutes()).slice(-2)}hs</p>`,null!=o&&(n+=`<p>${o}</p>`),n+="</div></div>",n+="</div>",$("#agendainfo").html(n);var d=$("#agendainfo").position().top-100;$("body,html").animate({scrollTop:d},700)})},2e3))}else s(6)}else if(6==r)if((c=await i.collection("photos").orderBy("date","desc").get()).size>0){var H,q,G,N,X,J;for(n=c.docs,j=0;j<c.size;j++)d=n[j].data(),H=d.description,q=`${H}<br>${d.place}<br>${d.date}`,z+='<div class="galeria col-xs-6 col-sm-4 col-md-3">',z+=`<ul id="galview${j+1}" class="list-unstyled row">`,G="",N=o.ref().child(`photos/${d.id}`),X=await N.listAll(),await X.items.forEach(e=>{J="https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/"+(J=e.fullPath).replaceAll("/","%2F")+"?alt=media",z+=`<li class="${G}" data-responsive="${J} 375, ${J} 480, ${J} 800" data-src="${J}" data-sub-html="${H}"><a href="">`,z+=`<img class="img-responsive" src="${J}">`,z+='<div class="gallery-poster"><img src="images/zoom.png"></div>',z+=`<div class="gallery-label">${q}</div></a></li>`,G="hide"}),z+="</ul></div>",j+1>=c.size&&($("#photo_view").html(z),setTimeout(function(){for(var e=0;e<c.size;e++)$(`#galview${e+1}`).lightGallery({thumbnail:!0,hash:!1})},2e3),s(7))}else s(7);else if(7==r)if(0==t.videostype){if((c=await i.collection("videos").orderBy("date","desc").get()).size>0)for(n=c.docs,z+='<ul id="vidview" class="list-unstyled row">',j=0;j<c.size;j++)d=n[j].data(),z+=`<li class="col-xs-6 col-sm-4 col-md-3" data-src="https://www.youtube.com/watch?v=${d.watch}&autoplay=true" data-sub-html="${d.title}"><a href="">`,z+=`<img class="img-responsive" src="${d.image}">`,z+='<div class="gallery-poster"><img src="images/play.png"></div>',z+=`<div class="gallery-label">${d.title}</div>`,z+="</a></li>",j+1>=c.size&&(z+="</ul>",$("#vid_view").html(z),setTimeout(function(){$("#vidview").lightGallery({download:!0,zoom:!1,autoplayControls:!1,hash:!1,youtubePlayerParams:{modestbranding:1,showinfo:0,rel:0,controls:0}})},2e3))}else{var O=new XMLHttpRequest;O.open("GET","https://www.googleapis.com/youtube/v3/search?key=AIzaSyB3RoRyyHmYtqp2CqhohJN9zIWkhYPJaMM&channelId=UCbDaA750q0NCXdaQlptSa9A&part=snippet,id&type=video&videoSyndicated=true&order=date&maxResults=16"),O.send(),O.onloadend=(e=>{var t=O.responseText,a=JSON.parse(t);if(a.items){z+='<ul id="vidview" class="list-unstyled row">';for(var s=0;s<a.items.length;s++)z+=`<li class="col-xs-6 col-sm-4 col-md-3" data-src="https://www.youtube.com/watch?v=${a.items[s].id.videoId}&autoplay=true" data-sub-html="${a.items[s].snippet.title}"><a href="">`,z+=`<img class="img-responsive" src="${a.items[s].snippet.thumbnails.high.url}">`,z+='<div class="gallery-poster"><img src="images/play.png"></div>',z+=`<div class="gallery-label">${a.items[s].snippet.title}<br>${a.items[s].snippet.description}</div>`,z+="</a></li>",s+1>=a.items.length&&(z+="</ul>",$("#vid_view").html(z),setTimeout(function(){$("#vidview").lightGallery({download:!1,zoom:!1,autoplayControls:!1,hash:!1,youtubePlayerParams:{modestbranding:1,showinfo:0,rel:0,controls:1}})},2e3))}})}}(0)});