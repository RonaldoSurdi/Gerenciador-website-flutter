$(document).ready(function(){var e,a,t,s;$(".navbar-collapse a").on("click",function(){$(".navbar-collapse").hasClass("in")&&$(".navbar-toggle").click()});firebase.initializeApp({apiKey:"AIzaSyB3RoRyyHmYtqp2CqhohJN9zIWkhYPJaMM",authDomain:"joao-luiz-correa.firebaseapp.com",databaseURL:"https://joao-luiz-correa-default-rtdb.firebaseio.com",projectId:"joao-luiz-correa",storageBucket:"joao-luiz-correa.appspot.com",messagingSenderId:"980869849229",appId:"1:980869849229:web:59d8c8be93bb344d50c2c4"}),firebase.analytics();var i=firebase.firestore(),o=firebase.storage();function r(e,a){var t=function(){var e;try{e=new XMLHttpRequest}catch(a){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){e=!1}}}return e}();$xdivget=$("#"+a);t.onreadystatechange=function(){1==t.readyState?$xdivget.html("<img src='images/loader.gif'>"):4==t.readyState&&$xdivget.html(t.responseText)},t.open("GET",e,!0),t.send(null)}function l(){$(".dsc").delegate("a","click",async function(e){console.log(e),e.preventDefault(),href=$(this).attr("href"),hid=$(this).attr("id"),htitle=$(this).attr("title"),hrel=$(this).attr("rel");var a=hrel.split("-"),o=a[0],r=a[1],l=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${r}%2F${t[o].image}?alt=media`,n=t[o].year,d=t[o].title,p=(d.replace(`${n}. `,""),t[o].info),u='<div class="row">';u+=`<div class="col-md-6"><div class="cap"><img src="${l}" alt="${d}"></div></div>`,u+=`<div class="col-md-6"><div id="jp_container"><h2>${n}</h2><h3>${p=p.replaceAll("\n","<br>")}</h3>`,u+="<p>";var m="";if(data=await i.collection("discs").doc(r).collection("sounds").orderBy("track").get(),s=[],data.size>0){var g,h,v,f,b;response=data.docs;var y="track track-default";u+="Músicas:<br>";for(var w=0;w<data.size;w++)if(res=response[w].data(),s.push(res),g=("00"+res.track).slice(-2),h=res.title,v=res.audio,f=res.lyric.replaceAll("\n","<br>"),b=res.cipher,""!=v?(v.includes("https://")||v.includes("https://")||(v=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${v}%2F$uri?alt=media`),u+=`<a href="${v}" title="Reproduzir" class="${y}"><img src="images/player/play.png" alt="Reproduzir"></a>`,y="track"):u+='<img src="images/player/play-off.png" alt="Audio indisponível">',""!=f&&"Letra não disponível"!=f&&"Letra não disponível<br>"!=f?(u+=`<a href="#msc${g}" title="Letra"><img src="images/player/letra.png" alt="Letra"></a>`,m+=`<div id="msc${g}" class="modalDialog2"><div><a class="close" title="Fechar" href="#close">X</a><div class="divtxt"><h4>${d}</h4><p>${f}</p></div></div></div>`):u+='<img src="images/player/letra-off.png" alt="Letra indisponível"></img>',u+=""!=b?`<a href="${b}" title="Cifra" target="_blank"><img src="images/player/cifra.png" alt="Cifra"></a>`:'<img src="images/player/cifra-off.png" alt="Cifra indisponível">',u+=`${g}. ${h}<br>`,w+1>=data.size){u+="</p></div>",$("#discoinfo").html(u),$("#soundinfo").html(m),c();var z=$("#discoinfo").position().top-100;$("body,html").animate({scrollTop:z},700)}}else{u+="Nenhuma música cadastrada.",u+="</p></div></div></div>",$("#discoinfo").html(u),$("#soundinfo").html(m);z=$("#discoinfo").position().top-100;$("body,html").animate({scrollTop:z},700)}})}function c(){var e=$("#jquery_jplayer"),a=$("#jquery_jplayer_1"),t=($("#jp_container .track-name"),$("#jp_container .play-state")),s=($("#jp_container .extra-play-info"),!0);$.jPlayer.timeFormat.padMin=!1,$.jPlayer.timeFormat.padSec=!1,$.jPlayer.timeFormat.sepMin="",$.jPlayer.timeFormat.sepSec="",t.text("");var i="",o="";e.jPlayer({ready:function(){$("#jp_container .track-default").click()},ended:function(){a.jPlayer("play")},swfPath:"/js",cssSelectorAncestor:"#jp_container",supplied:"mp3",wmode:"window"}),$("#jp_container .track").click(function(t){return e.jPlayer("setMedia",{mp3:$(this).attr("href")}),s||(""!=o&&o.html('<img src="images/player/play.png">'),i!=$(this).attr("href")?(e.jPlayer("play"),$(this).html('<img src="images/player/pause.png">'),i=$(this).attr("href"),o=$(this),a.jPlayer("pause")):(e.jPlayer("stop"),$(this).html('<img src="images/player/play.png">'),i="",o="",a.jPlayer("play"))),s=!1,$(this).blur(),!1})}$(".bgf").delegate("a","click",function(e){e.preventDefault(),href=$(this).attr("href"),hid=$(this).attr("id"),htitle=$(this).attr("title"),hrel=$(this).attr("rel"),r("/view/artista.php?id="+hrel,"biografiainfo");var a=$("#biografiainfo").position().top-100;$("body,html").animate({scrollTop:a},700)}),biografia_scroller=$(".biografia_text").mCustomScrollbar({axis:"y"}),$(".controllers").click(function(e){$(this).hasClass("controller_up")?biografia_scroller.mCustomScrollbar("scrollTo","top"):$(this).hasClass("controller_down")&&biografia_scroller.mCustomScrollbar("scrollTo","bottom")}),central_scroller=$(".central_text").mCustomScrollbar({axis:"y"}),$(".controllers2").click(function(e){$(this).hasClass("controller2_up")?central_scroller.mCustomScrollbar("scrollTo","top"):$(this).hasClass("controller2_down")&&central_scroller.mCustomScrollbar("scrollTo","bottom")});var n=$("#owl-div2");$(".next").click(function(){n.trigger("owl2.next")}),$(".prev").click(function(){n.trigger("owl2.prev")}),$(".play").click(function(){n.trigger("owl2.play",1e3)}),$(".stop").click(function(){n.trigger("owl2.stop")});var d=$("#owl-div");function p(e){"connected"===e.status?conectFB():($("#fbsts").html("<h3>Faça seu Cadastro e tenha Acesso à Área Exclusiva para Fãs,<br>Participe de Promoções, Receba Novidades e muito mais.</h3>"),$("#fbdwn").html("<p>Acesse nossa Central para visualizar o conteúdo completo.<br><br>- Downloads<br>- Envio de Recados<br>- Novidades<br>- Promoções ...</p>"),$("#fbini").css("display","block"),$("#fbrec").css("display","block"),$("#fbcls").css("display","block"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block"))}$(".next").click(function(){d.trigger("owl.next")}),$(".prev").click(function(){d.trigger("owl.prev")}),$(".play").click(function(){d.trigger("owl.play",1e3)}),$(".stop").click(function(){d.trigger("owl.stop")}),$('form[name="sendImp"]').find("input").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,a,t){},submitSuccess:function(e){e.preventDefault();var a=$("input#senha").val();$.ajax({url:"/view/imp-auth.php",type:"POST",data:{senha:a},cache:!1,success:function(e,a){"1"==(e=$.trim(e))?($("#success-i").html("<div class='alert alert-success'>"),$("#success-i > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-success").append("<strong>Acesso autorizado. </strong>"),$("#success-i > .alert-success").append("</div>"),$("#imprensaForm").trigger("reset"),r("/view/imp-data.php","imprensa-restrict")):($("#success-i").html("<div class='alert alert-danger'>"),$("#success-i > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-danger").append("<strong>Acesso negado, dados inválidos...</strong>"),$("#success-i > .alert-danger").append("</div>"))},error:function(){$("#success-i").html("<div class='alert alert-danger'>"),$("#success-i > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-i > .alert-danger").append("<strong>Erro ao conectar, tente novamente...</strong>"),$("#success-i > .alert-danger").append("</div>"),$("#imprensaForm").trigger("reset")}})},filter:function(){return $(this).is(":visible")}}),$("#senha").focus(function(){$("#success-i").html("")}),$("#fbrec").delegate("a","click",function(e){e.preventDefault(),$("#fbrec").css("display","none"),$("#fbcls").css("display","block"),$("#mural-form").css("display","block"),$("#central-mural").css("display","none")}),$("#fbcls").delegate("a","click",function(e){e.preventDefault(),$("#fbrec").css("display","block"),$("#fbcls").css("display","none"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block")}),$('form[name="sentRecado"]').find("input,textarea").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,a,t){},submitSuccess:function(e){e.preventDefault();var a=$("input#name").val(),t=$("input#email").val(),s=$("input#phone").val(),i=$("input#cityuf").val(),o=$("textarea#messagem").val();$.ajax({url:"https://us-central1-joao-luiz-correa.cloudfunctions.net/sendMail",type:"POST",dataType:"json",data:{to_name:a,to_email:t,to_phone:s,city_uf:i,content:o},cache:!1,success:function(e,a){e=$.trim(e),console.log(e),e?($("#success-m").html("<div class='alert alert-success'>"),$("#success-m > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-success").append("<strong>Acesso autorizado. </strong>"),$("#success-m > .alert-success").append("</div>"),$("#centralForm").trigger("reset"),$("#fbrec").css("display","block"),$("#fbcls").css("display","none"),$("#mural-form").css("display","none"),$("#central-mural").css("display","block"),r("/view/mural.php","central-mural")):($("#success-m").html("<div class='alert alert-danger'>"),$("#success-m > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-danger").append("<strong>Erro ao enviar a recado, tente novamente...</strong>"),$("#success-m > .alert-danger").append("</div>"))},error:function(){$("#success-m").html("<div class='alert alert-danger'>"),$("#success-m > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success-m > .alert-danger").append("<strong>Erro ao enviar a recado, tente novamente...</strong>"),$("#success-m > .alert-danger").append("</div>"),$("#centralForm").trigger("reset")}})},filter:function(){return $(this).is(":visible")}}),$("#messagem").focus(function(){$("#successm").html("")}),$('form[name="sentMessage"]').find("input,textarea").not("[type=submit]").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,a,t){},submitSuccess:function(e,a){a.preventDefault();var t=$("#name").val(),s=$("#email").val(),i=$("#phone").val(),o=$("#cityuf").val(),r=$("#message").val();$.ajax({url:"https://us-central1-joao-luiz-correa.cloudfunctions.net/sendMail",type:"POST",data:{to_name:t,to_email:s,to_phone:i,city_uf:o,content:r},cache:!1,success:function(e){console.log(e),$("#success").html("<div class='alert alert-success'>"),$("#success > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-success").append("<strong>Sua mensagem foi enviada. </strong>"),$("#success > .alert-success").append("</div>"),$("#contatoForm").trigger("reset")},error:function(e){console.log(e),$("#success").html("<div class='alert alert-danger'>"),$("#success > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#success > .alert-danger").append("<strong>Erro ao enviar a mensagem, tente novamente...</strong>"),$("#success > .alert-danger").append("</div>"),$("#contatoForm").trigger("reset")}})},filter:function(){return $(this).is(":visible")}}),$('a[data-toggle="tab"]').click(function(e){e.preventDefault(),$(this).tab("show")}),$("#name").focus(function(){$("#success").html("")}),window.checkLoginState=function(){FB.getLoginStatus(function(e){p(e)})},window.fbAsyncInit=function(){FB.init({appId:"223287822148917",cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(e){p(e)})},async function s(r){var c,p,u,m,g,h="João Luiz Corrêa e Grupo Campeirismo",v=encodeURI(h),f=encodeURIComponent(h),b="https://joaoluizcorrea.com.br/",y=encodeURI(b),w=encodeURIComponent(b),z="";if(0==r)s(10),$.ajax({url:"https://us-central1-joao-luiz-correa.cloudfunctions.net/counterView",type:"GET",cache:!1,success:function(e){$("#count-view").html(e.count.toLocaleString("de-DE",{minimumFractionDigits:0})),$("#count-online").html(e.online)},error:function(e){console.log(e)}});else if(10==r)c=await i.collection("settings").doc("data").get(),a=c.data(),s(1);else if(1==r)if((c=await i.collection("banners").orderBy("date","desc").get()).size>0){p=c.docs;for(var j=0;j<c.size;j++)u=p[j].data(),m=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/banners%2F${u.filename}?alt=media`,z+=`<div class="pogoSlider-slide" data-transition="fade" data-duration="6000" style="background-image:url(${m});"></div>`,j+1>=c.size&&($("#js-main-slider").html(z),$("#js-main-slider").pogoSlider({autoplay:!0,autoplayTimeout:4e3,displayProgess:!0,preserveTargetSize:!0,targetWidth:1600,targetHeight:900,responsive:!0}).data("plugin_pogoSlider"),s(2))}else s(2);else if(2==r)(c=await i.collection("biography").get()).size>0?(u=(p=c.docs)[0].data(),z=(z=u.description).replace("\r","").replace("\n","<br><br>"),$("#biography").html(z),s(3)):s(3);else if(3==r){var k=await o.ref("artists");await k.listAll().then(function(e){if(e.items.length>0)for(var a=0;a<e.items.length;a++)g=(g=e.items[a].fullPath).replace("/","%2F"),m=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/${g}?alt=media`,z+='<div class="col-lg-2 col-md-2 col-sm-4 wthree2" data-aos="zoom-in"><div class="w3-agileits">',z+='<div class="bgf">',z+=`<img src="${m}" alt="${g}">`,z+="</div></div></div>",a+1>=e.items.length&&($("#artists").html(z),s(4));else s(4)}).catch(function(e){console.log(e),s(4)})}else if(4==r)if(c=await i.collection("discs").orderBy("id").get(),t=[],c.size>0){var _,S,C;for(p=c.docs,j=0;j<c.size;j++)u=p[j].data(),t.push(u),_=("000000"+u.id).slice(-5),S=u.title.replace(`${u.year}. `,""),C=`https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/discs%2F${_}%2F${u.image}?alt=media`,z+='<div class="item wthree1" data-aos="zoom-in"><div class="w3-agileits">',z+=`<div class="dsc"><a title="MAIS" rel="${j}-${_}">`,z+=`<img class="img-responsive" src="${C}" alt="${u.title}"></a>`,z+=`<h2>${u.year}</h2>`,z+=`<h3>${S}</h3>`,z+="</div></div></div>",j+1>=c.size&&(n.html(z),n.owlCarousel(),l(),s(5))}else s(5);else if(5==r)if(c=await i.collection("schedule").orderBy("id","desc").get(),e=[],c.size>0)for(p=c.docs,j=0;j<c.size;j++){u=p[j].data(),e.push(u);var x=u.title,F=u.place,P=new Date(u.dateini.toDate()),T=new Date(u.dateend.toDate()),D=("00"+P.getDate()).slice(-2),M=("00"+(P.getMonth()+1)).slice(-2),A=("00"+P.getHours()).slice(-2),I=("00"+P.getMinutes()).slice(-2),R=("00"+T.getHours()).slice(-2),B=("00"+T.getMinutes()).slice(-2);z+='<div class="item wthree1" data-aos="zoom-in"><div class="w3-agileits">',z+=`<div class="agdt"><span class="dia">${D}</span><span class="mes">/${M}</span></div>`,z+=`<div class="agtm"><span class="hora">${A}:${I}hs - ${R}:${B}hs</span></div>`,z+=`<div class="aglc"><h3>${F}</h3><h2>${x}</h2></div>`,z+='<div class="rodape">',z+=`<div class="infosh"><div class="agl"><a title="Informações sobre o Evento" rel="${j}"><img src="images/social/maisinfo.png"></a></div></div>`,z+=`<div class="socialsh">Compartilhar:<br/><a href="http://www.facebook.com/sharer.php?u=${y}&t=${v}" title="Compartilhar no Facebook" target="_new"><img src="images/social/fb-ico.png"></a>`,z+=`<a href="http://twitter.com/share?text=${f}&url=${w}" title="Compartilhar no Twitter" target="_new"><img src="images/social/tw-ico.png"></a>`,z+=`<a href="https://plus.google.com/share?url=${w}" title="Compartilhar no Google" target="_new"><img src="images/social/gg-ico.png"></a></div>`,z+="</div></div></div>",j+1>=c.size&&(d.html(z),d.owlCarousel(),$(".agl").delegate("a","click",function(a){a.preventDefault();var t=$(this).attr("rel"),s=e[t],i=s.title,o=s.description,r=s.place,l=new Date(s.dateini.toDate()),c=new Date(s.dateend.toDate()),n='<div class="row">';n+='<div class="col-md-6"><div class="cap"><img src="images/agenda-info.png" alt="Agenda"></div></div>',n+='<div class="col-md-6"><div id="jp_container">',n+=`<h2>${i}</h2>`,n+=`<p>${r}<br>`,n+=`No dia ${("00"+l.getDate()).slice(-2)}/${("00"+(l.getMonth()+1)).slice(-2)}/${l.getFullYear()}<br>`,n+=`das ${("00"+l.getHours()).slice(-2)}:${("00"+l.getMinutes()).slice(-2)}hs às ${("00"+c.getHours()).slice(-2)}:${("00"+c.getMinutes()).slice(-2)}hs</p>`,null!=o&&(n+=`<p>${o}</p>`),n+="</div></div>",n+="</div>",$("#agendainfo").html(n);var d=$("#agendainfo").position().top-100;$("body,html").animate({scrollTop:d},700)}),s(6))}else s(6);else if(6==r)if((c=await i.collection("photos").orderBy("date","desc").get()).size>0){var E,L,q,H,G,N;for(p=c.docs,j=0;j<c.size;j++)u=p[j].data(),E=u.description,L=`${E}<br>${u.place}<br>${u.date}`,z+='<div class="galeria col-xs-6 col-sm-4 col-md-3">',z+=`<ul id="galview${j+1}" class="list-unstyled row">`,q="",H=o.ref().child(`photos/${u.id}`),G=await H.listAll(),await G.items.forEach(e=>{N="https://firebasestorage.googleapis.com/v0/b/joao-luiz-correa.appspot.com/o/"+(N=e.fullPath).replaceAll("/","%2F")+"?alt=media",z+=`<li class="${q}" data-responsive="${N} 375, ${N} 480, ${N} 800" data-src="${N}" data-sub-html="${E}"><a href="">`,z+=`<img class="img-responsive" src="${N}">`,z+='<div class="gallery-poster"><img src="images/zoom.png"></div>',z+=`<div class="gallery-label">${L}</div></a></li>`,q="hide"}),z+="</ul></div>",j+1>=c.size&&($("#photo_view").html(z),setTimeout(function(){for(var e=0;e<c.size;e++)$(`#galview${e+1}`).lightGallery({thumbnail:!0,hash:!1})},2e3),s(7))}else s(7);else if(7==r)if(0==a.videostype){if((c=await i.collection("videos").orderBy("date","desc").get()).size>0)for(p=c.docs,z+='<ul id="vidview" class="list-unstyled row">',j=0;j<c.size;j++)u=p[j].data(),z+=`<li class="col-xs-6 col-sm-4 col-md-3" data-src="https://www.youtube.com/watch?v=${u.watch}&autoplay=true" data-sub-html="${u.title}"><a href="">`,z+=`<img class="img-responsive" src="${u.image}">`,z+='<div class="gallery-poster"><img src="images/play.png"></div>',z+=`<div class="gallery-label">${u.title}</div>`,z+="</a></li>",j+1>=c.size&&(z+="</ul>",$("#vid_view").html(z),setTimeout(function(){$("#vidview").lightGallery({download:!0,zoom:!1,autoplayControls:!1,hash:!1,youtubePlayerParams:{modestbranding:1,showinfo:0,rel:0,controls:0}})},2e3))}else{var X=new XMLHttpRequest;X.open("GET","https://www.googleapis.com/youtube/v3/search?key=AIzaSyB3RoRyyHmYtqp2CqhohJN9zIWkhYPJaMM&channelId=UCbDaA750q0NCXdaQlptSa9A&part=snippet,id&type=video&videoSyndicated=true&order=date&maxResults=16"),X.send(),X.onloadend=(e=>{var a=X.responseText,t=JSON.parse(a);if(t.items){z+='<ul id="vidview" class="list-unstyled row">';for(var s=0;s<t.items.length;s++)z+=`<li class="col-xs-6 col-sm-4 col-md-3" data-src="https://www.youtube.com/watch?v=${t.items[s].id.videoId}&autoplay=true" data-sub-html="${t.items[s].snippet.title}"><a href="">`,z+=`<img class="img-responsive" src="${t.items[s].snippet.thumbnails.high.url}">`,z+='<div class="gallery-poster"><img src="images/play.png"></div>',z+=`<div class="gallery-label">${t.items[s].snippet.title}<br>${t.items[s].snippet.description}</div>`,z+="</a></li>",s+1>=t.items.length&&(z+="</ul>",$("#vid_view").html(z),setTimeout(function(){$("#vidview").lightGallery({download:!1,zoom:!1,autoplayControls:!1,hash:!1,youtubePlayerParams:{modestbranding:1,showinfo:0,rel:0,controls:1}})},2e3))}})}}(0)});